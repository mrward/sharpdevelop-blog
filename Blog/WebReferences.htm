<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Web References</title>
</head>
<body>
		Support for web references has now been added to SharpDevelop2 in revision 955. &nbsp;<br><br><b>Features</b><br><br>Add web reference<br><ul><li>Browse/view web services</li><li>Automatic web proxy class generation</li></ul>Refresh web reference<br><ul><li>Updates generated web proxy class</li></ul><b>Adding a Web Reference</b><br><ol><li>With a project open in SharpDevelop, view the project browser by selecting View | Projects.</li><li>In
the project browser, right click either the project node or the
References node and select "Add Web Reference" to open a dialog.<br><br><img src="WebReferences_files/original_004.png"><br><br></li><li>Enter a url and browse for a web service.</li><li>Once the web service has been located the reference name and namespace will be auto-generated.</li><li>Change the reference name and the web proxy namespace if required.<br><br><img src="WebReferences_files/original_002.png"><br><br> </li><li>Click the "Add" button to add the web reference to the project.</li></ol><img src="WebReferences_files/original.png"><br><br><b>Refreshing the Web Reference</b><br><br>If the web service changes, the generated proxy class will need to be refreshed or updated.&nbsp; <br><ol><li>Open the project browser.</li><li>Select the web reference node, right click and select "Refresh Web Reference".</li></ol><img src="WebReferences_files/original_003.png"><br><br>The
proxy class will then be regenerated.&nbsp; Note that when the web
service is refreshed the namespace of the proxy class will be set to
the namespace of the project.&nbsp; This may not correspond to what was
entered into the "Add Web Reference" dialog.<br><br><b>Discovering Web Services</b><br><br>Now let us take a look at the code.&nbsp; The web service discovery is handled completely by the <a href="http://msdn2.microsoft.com/en-us/library/system.web.services.discovery.discoveryclientprotocol.aspx">DiscoveryClientProtocol</a>
class which is part of the .NET Framework.&nbsp; The following simple
example code discovers a web service and saves the discovered documents
to disk.<br><br><font face="Courier New" size="2">&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">DiscoveryClientProtocol&nbsp;protocol&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="DarkCyan">new&nbsp;</font><font color="MidnightBlue">DiscoveryClientProtocol</font><font color="DarkGreen">();</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">protocol</font><font color="DarkGreen">.</font><font color="MidnightBlue">DiscoverAny</font><font color="DarkGreen">(</font><font color="Blue">"http://localhost/Maths.asmx"</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">protocol</font><font color="DarkGreen">.</font><font color="MidnightBlue">ResolveOneLevel</font><font color="DarkGreen">();</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">protocol</font><font color="DarkGreen">.</font><font color="MidnightBlue">WriteAll</font><font color="DarkGreen">(</font><font color="Blue">@"c:\temp\Web&nbsp;References"</font><font color="DarkGreen">,&nbsp;</font><font color="Blue">"Reference.map"</font><font color="DarkGreen">);</font><br>
</font><br><span><b>Generating a Web Proxy</b></span><br><br>Once the
DiscoveryClientProtocol class has discovered the web service the web
proxy can be generated.&nbsp; To generate a proxy the <a href="http://msdn2.microsoft.com/en-us/library/microsoft.csharp.csharpcodeprovider.aspx">CSharpCodeProvider</a> and the <a href="http://msdn2.microsoft.com/en-us/library/w41f86dw%28en-us,VS.80%29.aspx">ServiceDescriptionImporter</a>;
class can be used.&nbsp; Here is a simple example that discovers a web
service, saves the discovered documents, and then generates a web proxy.<br><br><font face="Courier New" size="2"><font color="Green">using&nbsp;</font><font color="#000000">System</font><font color="DarkGreen">;</font><br>
<font color="Green">using&nbsp;</font><font color="#000000">System</font><font color="DarkGreen">.</font><font color="#000000">CodeDom</font><font color="DarkGreen">;</font><br>
<font color="Green">using&nbsp;</font><font color="#000000">System</font><font color="DarkGreen">.</font><font color="#000000">CodeDom</font><font color="DarkGreen">.</font><font color="#000000">Compiler</font><font color="DarkGreen">;</font><br>
<font color="Green">using&nbsp;</font><font color="#000000">System</font><font color="DarkGreen">.</font><font color="#000000">Collections</font><font color="DarkGreen">;</font><br>
<font color="Green">using&nbsp;</font><font color="#000000">System</font><font color="DarkGreen">.</font><font color="#000000">IO</font><font color="DarkGreen">;</font><br>
<font color="Green">using&nbsp;</font><font color="#000000">System</font><font color="DarkGreen">.</font><font color="#000000">Web</font><font color="DarkGreen">.</font><font color="#000000">Services</font><font color="DarkGreen">.</font><font color="#000000">Description</font><font color="DarkGreen">;</font><br>
<font color="Green">using&nbsp;</font><font color="#000000">System</font><font color="DarkGreen">.</font><font color="#000000">Web</font><font color="DarkGreen">.</font><font color="#000000">Services</font><font color="DarkGreen">.</font><font color="#000000">Discovery</font><font color="DarkGreen">;</font><br>
<font color="Green">using&nbsp;</font><font color="#000000">System</font><font color="DarkGreen">.</font><font color="#000000">Xml</font><font color="DarkGreen">.</font><font color="#000000">Schema</font><font color="DarkGreen">;</font><br>
<font color="Green">using&nbsp;</font><font color="#000000">System</font><font color="DarkGreen">.</font><font color="#000000">Xml</font><font color="DarkGreen">.</font><font color="#000000">Serialization</font><font color="DarkGreen">;</font><br>
<br>
<font color="Green">namespace&nbsp;</font><font color="#000000">WebServiceTest</font><br>
<font color="DarkGreen">{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="Red">class&nbsp;</font><font color="#000000">MainClass</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Blue">public&nbsp;</font><font color="Brown">static&nbsp;</font><font color="Red">void&nbsp;</font><font color="MidnightBlue">Main</font><font color="DarkGreen">(</font><font color="Red">string</font><font color="DarkGreen">[]&nbsp;</font><font color="#000000">args</font><font color="DarkGreen">)</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Green">//&nbsp;Discover&nbsp;and&nbsp;save&nbsp;web&nbsp;service&nbsp;information.</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">DiscoveryClientProtocol&nbsp;protocol&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="DarkCyan">new&nbsp;</font><font color="MidnightBlue">DiscoveryClientProtocol</font><font color="DarkGreen">();</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">protocol</font><font color="DarkGreen">.</font><font color="MidnightBlue">DiscoverAny</font><font color="DarkGreen">(</font><font color="Blue">"http://localhost/Maths.asmx"</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">protocol</font><font color="DarkGreen">.</font><font color="MidnightBlue">ResolveOneLevel</font><font color="DarkGreen">();</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">protocol</font><font color="DarkGreen">.</font><font color="MidnightBlue">WriteAll</font><font color="DarkGreen">(</font><font color="Blue">@"c:\temp\Web&nbsp;References"</font><font color="DarkGreen">,&nbsp;</font><font color="Blue">"Reference.map"</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Green">//&nbsp;Generate&nbsp;the&nbsp;web&nbsp;proxy.</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">ServiceDescriptionCollection&nbsp;services&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="MidnightBlue">GetServiceDescriptionCollection</font><font color="DarkGreen">(</font><font color="#000000">protocol</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">XmlSchemas&nbsp;schemas&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="MidnightBlue">GetXmlSchemas</font><font color="DarkGreen">(</font><font color="#000000">protocol</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="MidnightBlue">GenerateWebProxy</font><font color="DarkGreen">(</font><font color="Blue">"WebServiceTest"</font><font color="DarkGreen">,&nbsp;</font><font color="Blue">@"c:\temp\Web&nbsp;References\Reference.cs"</font><font color="DarkGreen">,&nbsp;</font><font color="#000000">services</font><font color="DarkGreen">,&nbsp;</font><font color="#000000">schemas</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Brown">static&nbsp;</font><font color="#000000">ServiceDescriptionCollection&nbsp;</font><font color="MidnightBlue">GetServiceDescriptionCollection</font><font color="DarkGreen">(</font><font color="#000000">DiscoveryClientProtocol&nbsp;protocol</font><font color="DarkGreen">)</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">ServiceDescriptionCollection&nbsp;services&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="DarkCyan">new&nbsp;</font><font color="MidnightBlue">ServiceDescriptionCollection</font><font color="DarkGreen">();</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Blue">foreach&nbsp;</font><font color="DarkGreen">(</font><font color="#000000">DictionaryEntry&nbsp;entry&nbsp;</font><font color="Blue">in&nbsp;</font><font color="#000000">protocol</font><font color="DarkGreen">.</font><font color="#000000">References</font><font color="DarkGreen">)&nbsp;{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">ContractReference&nbsp;contractRef&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="#000000">entry</font><font color="DarkGreen">.</font><font color="#000000">Value&nbsp;</font><font color="DarkCyan">as&nbsp;</font><font color="#000000">ContractReference</font><font color="DarkGreen">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">DiscoveryDocumentReference&nbsp;discoveryRef&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="#000000">entry</font><font color="DarkGreen">.</font><font color="#000000">Value&nbsp;</font><font color="DarkCyan">as&nbsp;</font><font color="#000000">DiscoveryDocumentReference</font><font color="DarkGreen">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Blue">if&nbsp;</font><font color="DarkGreen">(</font><font color="#000000">contractRef&nbsp;</font><font color="DarkGreen">!=&nbsp;</font><font color="Black">null</font><font color="DarkGreen">)&nbsp;{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">services</font><font color="DarkGreen">.</font><font color="MidnightBlue">Add</font><font color="DarkGreen">(</font><font color="#000000">contractRef</font><font color="DarkGreen">.</font><font color="#000000">Contract</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Navy">return&nbsp;</font><font color="#000000">services</font><font color="DarkGreen">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Brown">static&nbsp;</font><font color="#000000">XmlSchemas&nbsp;</font><font color="MidnightBlue">GetXmlSchemas</font><font color="DarkGreen">(</font><font color="#000000">DiscoveryClientProtocol&nbsp;protocol</font><font color="DarkGreen">)</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">XmlSchemas&nbsp;schemas&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="DarkCyan">new&nbsp;</font><font color="MidnightBlue">XmlSchemas</font><font color="DarkGreen">();</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Blue">foreach&nbsp;</font><font color="DarkGreen">(</font><font color="#000000">DictionaryEntry&nbsp;entry&nbsp;</font><font color="Blue">in&nbsp;</font><font color="#000000">protocol</font><font color="DarkGreen">.</font><font color="#000000">References</font><font color="DarkGreen">)&nbsp;{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">SchemaReference&nbsp;schemaRef&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="#000000">entry</font><font color="DarkGreen">.</font><font color="#000000">Value&nbsp;</font><font color="DarkCyan">as&nbsp;</font><font color="#000000">SchemaReference</font><font color="DarkGreen">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Blue">if&nbsp;</font><font color="DarkGreen">(</font><font color="#000000">schemaRef&nbsp;</font><font color="DarkGreen">!=&nbsp;</font><font color="Black">null</font><font color="DarkGreen">)&nbsp;{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">schemas</font><font color="DarkGreen">.</font><font color="MidnightBlue">Add</font><font color="DarkGreen">(</font><font color="#000000">schemaRef</font><font color="DarkGreen">.</font><font color="#000000">Schema</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Navy">return&nbsp;</font><font color="#000000">schemas</font><font color="DarkGreen">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Brown">static&nbsp;</font><font color="Red">void&nbsp;</font><font color="MidnightBlue">GenerateWebProxy</font><font color="DarkGreen">(</font><font color="Red">string&nbsp;</font><font color="#000000">proxyNamespace</font><font color="DarkGreen">,&nbsp;</font><font color="Red">string&nbsp;</font><font color="#000000">fileName</font><font color="DarkGreen">,&nbsp;</font><font color="#000000">ServiceDescriptionCollection&nbsp;serviceDescriptions</font><font color="DarkGreen">,&nbsp;</font><font color="#000000">XmlSchemas&nbsp;schemas</font><font color="DarkGreen">)</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">ServiceDescriptionImporter&nbsp;importer&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="DarkCyan">new&nbsp;</font><font color="MidnightBlue">ServiceDescriptionImporter</font><font color="DarkGreen">();</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Blue">foreach&nbsp;</font><font color="DarkGreen">(</font><font color="#000000">ServiceDescription&nbsp;description&nbsp;</font><font color="Blue">in&nbsp;</font><font color="#000000">serviceDescriptions</font><font color="DarkGreen">)&nbsp;{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">importer</font><font color="DarkGreen">.</font><font color="MidnightBlue">AddServiceDescription</font><font color="DarkGreen">(</font><font color="#000000">description</font><font color="DarkGreen">,&nbsp;</font><font color="Black">null</font><font color="DarkGreen">,&nbsp;</font><font color="Black">null</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Blue">foreach&nbsp;</font><font color="DarkGreen">(</font><font color="#000000">XmlSchema&nbsp;schema&nbsp;</font><font color="Blue">in&nbsp;</font><font color="#000000">schemas</font><font color="DarkGreen">)&nbsp;{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">importer</font><font color="DarkGreen">.</font><font color="#000000">Schemas</font><font color="DarkGreen">.</font><font color="MidnightBlue">Add</font><font color="DarkGreen">(</font><font color="#000000">schema</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">CodeNamespace&nbsp;codeNamespace&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="DarkCyan">new&nbsp;</font><font color="MidnightBlue">CodeNamespace</font><font color="DarkGreen">(</font><font color="#000000">proxyNamespace</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">CodeCompileUnit&nbsp;codeUnit&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="DarkCyan">new&nbsp;</font><font color="MidnightBlue">CodeCompileUnit</font><font color="DarkGreen">();</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">codeUnit</font><font color="DarkGreen">.</font><font color="#000000">Namespaces</font><font color="DarkGreen">.</font><font color="MidnightBlue">Add</font><font color="DarkGreen">(</font><font color="#000000">codeNamespace</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">ServiceDescriptionImportWarnings&nbsp;warnings&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="#000000">importer</font><font color="DarkGreen">.</font><font color="MidnightBlue">Import</font><font color="DarkGreen">(</font><font color="#000000">codeNamespace</font><font color="DarkGreen">,&nbsp;</font><font color="#000000">codeUnit</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">CodeDomProvider&nbsp;provider&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="DarkCyan">new&nbsp;</font><font color="#000000">Microsoft</font><font color="DarkGreen">.</font><font color="#000000">CSharp</font><font color="DarkGreen">.</font><font color="MidnightBlue">CSharpCodeProvider</font><font color="DarkGreen">();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="Green">using&nbsp;</font><font color="DarkGreen">(</font><font color="#000000">StreamWriter&nbsp;sw&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="DarkCyan">new&nbsp;</font><font color="MidnightBlue">StreamWriter</font><font color="DarkGreen">(</font><font color="#000000">fileName</font><font color="DarkGreen">))&nbsp;{</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">CodeGeneratorOptions&nbsp;options&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="DarkCyan">new&nbsp;</font><font color="MidnightBlue">CodeGeneratorOptions</font><font color="DarkGreen">();</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">options</font><font color="DarkGreen">.</font><font color="#000000">BracingStyle&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="Blue">"C"</font><font color="DarkGreen">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">provider</font><font color="DarkGreen">.</font><font color="MidnightBlue">GenerateCodeFromCompileUnit</font><font color="DarkGreen">(</font><font color="#000000">codeUnit</font><font color="DarkGreen">,&nbsp;</font><font color="#000000">sw</font><font color="DarkGreen">,&nbsp;</font><font color="#000000">options</font><font color="DarkGreen">);</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="DarkGreen">}</font><br>
<font color="DarkGreen">}</font><br>
</font><br><b>Compatiblity with Visual Studio</b><br><ul><li>Web references generated by SharpDevelop are "Static".&nbsp; Visual Studio generates "Dynamic" web references.</li><li>Creating and refreshing "Dynamic" web references are not currently supported in SharpDevelop.</li></ul><br>Visual
Studio generates dynamic web references, where the web service URL is
stored in an app.config file rather than hard coded in the web proxy
itself.&nbsp; The proxy generated by Visual Studio accesses this URL
through a Settings class, which is used to access all properties for an
application.<br><br>&nbsp;<font face="Courier New" size="2">this<font color="DarkGreen">.</font><font color="#000000">Url&nbsp;</font><font color="DarkGreen">=&nbsp;</font><font color="Navy">global</font><font color="#000000">::BaseFormTest</font><font color="DarkGreen">.</font><font color="#000000">Properties</font><font color="DarkGreen">.</font><font color="#000000">Settings</font><font color="DarkGreen">.</font><font color="#000000">Default</font><font color="DarkGreen">.</font><font color="#000000">WebServiceTest_localhost_Maths</font><font color="DarkGreen">;</font></font><br><br>SharpDevelop is currently not able to generate corresponding code when refreshing the web service.<br><br><b>Web References Video</b><br><br>There is also a <a href="http://laputa.sharpdevelop.net/VideoWebReferences.aspx">video</a>, created by <a href="http://chrison.net/">Chris</a>, showing the web reference functionality in SharpDevelop 1.1.<br><br>
	
</body></html>